{% extends 'base.html' %}

{% block title %}Profilim - Spradar{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <!-- Kullanıcı Bilgileri -->
        <div class="col-md-4 mb-4">
            <div class="card">
                <div class="card-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-person-circle" style="font-size: 5rem; color: #667eea;"></i>
                    </div>
                    <h3>{{ user.get_full_name|default:user.username }}</h3>
                    <p class="text-muted mb-2">
                        <i class="bi bi-envelope"></i> {{ user.email }}
                    </p>
                    <p class="text-muted mb-3">
                        <i class="bi bi-calendar"></i> Üyelik: {{ profile.created_at|date:"d M Y" }}
                    </p>
                    
                    <div class="d-grid gap-2">
                        <a href="{% url 'match_list' %}" class="btn btn-success btn-lg">
                            <i class="bi bi-trophy-fill"></i> Maçları Görüntüle
                        </a>
                        <a href="{% url 'buy_credits' %}" class="btn btn-primary">
                            <i class="bi bi-cart-plus"></i> Kredi Satın Al
                        </a>
                        <a href="{% url 'history' %}" class="btn btn-outline-primary">
                            <i class="bi bi-clock-history"></i> Yorum Geçmişi
                        </a>
                        <a href="{% url 'credit_history' %}" class="btn btn-outline-secondary">
                            <i class="bi bi-wallet"></i> Kredi Geçmişi
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- İstatistikler -->
        <div class="col-md-8">
            <div class="row g-3 mb-4">
                <!-- Kalan Kredi -->
                <div class="col-md-6">
                    <div class="card bg-primary text-white">
                        <div class="card-body text-center">
                            <i class="bi bi-coin" style="font-size: 3rem;"></i>
                            <h1 class="display-4 mb-0">{{ profile.credits }}</h1>
                            <p class="mb-0">Kalan Kredi</p>
                        </div>
                    </div>
                </div>
                
                <!-- Toplam Yorum -->
                <div class="col-md-6">
                    <div class="card bg-info text-white">
                        <div class="card-body text-center">
                            <i class="bi bi-chat-dots" style="font-size: 3rem;"></i>
                            <h1 class="display-4 mb-0">{{ total_comments }}</h1>
                            <p class="mb-0">Toplam Yorum</p>
                        </div>
                    </div>
                </div>
                
                <!-- Kazanılan Kredi -->
                <div class="col-md-6">
                    <div class="card bg-success text-white">
                        <div class="card-body text-center">
                            <i class="bi bi-plus-circle" style="font-size: 3rem;"></i>
                            <h1 class="display-4 mb-0">+{{ total_credits_earned }}</h1>
                            <p class="mb-0">Kazanılan Kredi</p>
                        </div>
                    </div>
                </div>
                
                <!-- Kullanılan Kredi -->
                <div class="col-md-6">
                    <div class="card bg-danger text-white">
                        <div class="card-body text-center">
                            <i class="bi bi-dash-circle" style="font-size: 3rem;"></i>
                            <h1 class="display-4 mb-0">-{{ total_credits_spent }}</h1>
                            <p class="mb-0">Kullanılan Kredi</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Hızlı Bilgi -->
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="bi bi-info-circle"></i> Nasıl Kredi Kazanılır?
                    </h5>
                    <ul class="mb-0">
                        <li><strong>Kredi Satın Al:</strong> İstediğiniz kadar kredi satın alabilirsiniz (1,49 TL/kredi)</li>
                        <li><strong>AI Yorumu:</strong> Maç analizi için 1 kredi harcanır</li>
                        <li><strong>Ödeme:</strong> Banka havalesi veya EFT ile güvenli ödeme</li>
                    </ul>
                    <div class="mt-3">
                        <a href="{% url 'buy_credits' %}" class="btn btn-primary">
                            <i class="bi bi-lightning-charge-fill"></i> Hemen Kredi Al
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
